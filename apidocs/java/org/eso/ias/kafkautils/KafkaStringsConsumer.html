<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Fri Dec 29 07:34:32 CET 2023 -->
<title>KafkaStringsConsumer (IAS release)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-15">
<meta name="dc.created" content="2023-12-29">
<meta name="description" content="declaration: package: org.eso.ias.kafkautils, class: KafkaStringsConsumer">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><EM>IAS release</EM></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.eso.ias.kafkautils</a></div>
<h1 title="Class KafkaStringsConsumer" class="title">Class KafkaStringsConsumer</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.eso.ias.kafkautils.KafkaStringsConsumer</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a></code>, <code>org.apache.kafka.clients.consumer.ConsumerRebalanceListener</code></dd>
</dl>
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="SimpleStringConsumer.html" title="class in org.eso.ias.kafkautils">SimpleStringConsumer</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">KafkaStringsConsumer</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>, org.apache.kafka.clients.consumer.ConsumerRebalanceListener</span></div>
<div class="block">A generic kafka consumer that forwards all the strings received in
 each message to the listener.

 Kafka optimize the polling by returning a bounch of messages to each poll:
 objects of this class returns all the records received in a poll to the listener.
 If the listener wants to process one message at a time, should use <a href="SimpleStringConsumer.html" title="class in org.eso.ias.kafkautils"><code>SimpleStringConsumer</code></a>
 instead.

 <a href="KafkaStringsConsumer.html" title="class in org.eso.ias.kafkautils"><code>KafkaStringsConsumer</code></a> runs the next poll after the listener terminates processing the
 records.

 <P>
 Kafka properties are fully customizable by calling <a href="#setUp(java.util.Properties)"><code>setUp(Properties)</code></a>:
 defaults values are used for the missing ones.
 <P>
 <EM>Life cycle</em>: <a href="#setUp()"><code>setUp()</code></a> or <a href="#setUp(java.util.Properties)"><code>setUp(Properties)</code></a>
                         must be called to initialize the object;
                         <a href="#tearDown()"><code>tearDown()</code></a> must be called when finished using the object;
                         <a href="#startGettingEvents(org.eso.ias.kafkautils.KafkaStringsConsumer.StringsConsumer,org.eso.ias.kafkautils.KafkaStringsConsumer.StreamPosition)"><code>startGettingEvents(StringsConsumer, StreamPosition)</code></a> must be called to start
                         polling events from the kafka topic

 <a href="#startGettingEvents(org.eso.ias.kafkautils.KafkaStringsConsumer.StringsConsumer,org.eso.ias.kafkautils.KafkaStringsConsumer.StreamPosition)"><code>startGettingEvents(StringsConsumer, StreamPosition)</code></a> returns when the consumer has been assigned to
 at least one partition. There are situations when the partitions assigned to the consumer
 can be revoked and reassigned like for example when another consumer subscribe or disconnect
 as the assignment of consumers to partitions is left to kafka in this version.</div>
<dl class="notes">
<dt>Author:</dt>
<dd>acaproni</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static enum&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="KafkaStringsConsumer.StreamPosition.html" class="type-name-link" title="enum class in org.eso.ias.kafkautils">KafkaStringsConsumer.StreamPosition</a></code></div>
<div class="col-last even-row-color">
<div class="block">The start position when connecting to a kafka topic
 for reading strings</div>
</div>
<div class="col-first odd-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="KafkaStringsConsumer.StringsConsumer.html" class="type-name-link" title="interface in org.eso.ias.kafkautils">KafkaStringsConsumer.StringsConsumer</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The interface for the listener of strings</div>
</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final long</code></div>
<div class="col-second even-row-color"><code><a href="#DEFAULT_CONSUMER_READY_TIMEOUT" class="member-name-link">DEFAULT_CONSUMER_READY_TIMEOUT</a></code></div>
<div class="col-last even-row-color">
<div class="block">Default time to wait until the consumer is ready</div>
</div>
<div class="col-first odd-row-color"><code>static final long</code></div>
<div class="col-second odd-row-color"><code><a href="#MIN_CONSUMER_READY_TIMEOUT" class="member-name-link">MIN_CONSUMER_READY_TIMEOUT</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Min allowed timeout to wait for the consumer ready</div>
</div>
<div class="col-first even-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#topicName" class="member-name-link">topicName</a></code></div>
<div class="col-last even-row-color">
<div class="block">The name of the topic to get events from</div>
</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#WAIT_CONSUMER_READY_TIMEOUT_PROP_NAME" class="member-name-link">WAIT_CONSUMER_READY_TIMEOUT_PROP_NAME</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The property to setup the waiting time until the consumer is ready (in msecs)</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.lang.String,java.lang.String,java.lang.String)" class="member-name-link">KafkaStringsConsumer</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;servers,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topicName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;consumerID)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructor</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getNumOfProcessedRecords()" class="member-name-link">getNumOfProcessedRecords</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isReady()" class="member-name-link">isReady</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return true if the consumer is ready.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onPartitionsAssigned(java.util.Collection)" class="member-name-link">onPartitionsAssigned</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;org.apache.kafka.common.TopicPartition&gt;&nbsp;parts)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called after partitions have been reassigned but before the consumer starts consuming messages</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onPartitionsLost(java.util.Collection)" class="member-name-link">onPartitionsLost</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;org.apache.kafka.common.TopicPartition&gt;&nbsp;parts)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onPartitionsRevoked(java.util.Collection)" class="member-name-link">onPartitionsRevoked</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;org.apache.kafka.common.TopicPartition&gt;&nbsp;parts)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called before the rebalancing starts and after the consumer stopped consuming events.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#run()" class="member-name-link">run</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The thread to poll data from the topic</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#seekTo(org.eso.ias.kafkautils.KafkaStringsConsumer.StreamPosition)" class="member-name-link">seekTo</a><wbr>(<a href="KafkaStringsConsumer.StreamPosition.html" title="enum class in org.eso.ias.kafkautils">KafkaStringsConsumer.StreamPosition</a>&nbsp;pos)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Seek the consumer to the passed postion.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setUp()" class="member-name-link">setUp</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Initializes the consumer with default kafka properties</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setUp(java.util.Properties)" class="member-name-link">setUp</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Properties.html" title="class or interface in java.util" class="external-link">Properties</a>&nbsp;userPros)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Initializes the consumer with the passed kafka properties.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#startGettingEvents(org.eso.ias.kafkautils.KafkaStringsConsumer.StringsConsumer,org.eso.ias.kafkautils.KafkaStringsConsumer.StreamPosition)" class="member-name-link">startGettingEvents</a><wbr>(<a href="KafkaStringsConsumer.StringsConsumer.html" title="interface in org.eso.ias.kafkautils">KafkaStringsConsumer.StringsConsumer</a>&nbsp;listener,
 <a href="KafkaStringsConsumer.StreamPosition.html" title="enum class in org.eso.ias.kafkautils">KafkaStringsConsumer.StreamPosition</a>&nbsp;startReadingFrom)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Start polling events from the kafka channel.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#tearDown()" class="member-name-link">tearDown</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Close and cleanup the consumer</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#waitUntilConsumerReady()" class="member-name-link">waitUntilConsumerReady</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Waits until the consumer is ready or a timeout elapses.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="topicName">
<h3>topicName</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">topicName</span></div>
<div class="block">The name of the topic to get events from</div>
</section>
</li>
<li>
<section class="detail" id="WAIT_CONSUMER_READY_TIMEOUT_PROP_NAME">
<h3>WAIT_CONSUMER_READY_TIMEOUT_PROP_NAME</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">WAIT_CONSUMER_READY_TIMEOUT_PROP_NAME</span></div>
<div class="block">The property to setup the waiting time until the consumer is ready (in msecs)</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#org.eso.ias.kafkautils.KafkaStringsConsumer.WAIT_CONSUMER_READY_TIMEOUT_PROP_NAME">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DEFAULT_CONSUMER_READY_TIMEOUT">
<h3>DEFAULT_CONSUMER_READY_TIMEOUT</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">DEFAULT_CONSUMER_READY_TIMEOUT</span></div>
<div class="block">Default time to wait until the consumer is ready</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#org.eso.ias.kafkautils.KafkaStringsConsumer.DEFAULT_CONSUMER_READY_TIMEOUT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="MIN_CONSUMER_READY_TIMEOUT">
<h3>MIN_CONSUMER_READY_TIMEOUT</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">MIN_CONSUMER_READY_TIMEOUT</span></div>
<div class="block">Min allowed timeout to wait for the consumer ready</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#org.eso.ias.kafkautils.KafkaStringsConsumer.MIN_CONSUMER_READY_TIMEOUT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(java.lang.String,java.lang.String,java.lang.String)">
<h3>KafkaStringsConsumer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">KafkaStringsConsumer</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;servers,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topicName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;consumerID)</span></div>
<div class="block">Constructor</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>servers</code> - The kafka servers to connect to</dd>
<dd><code>topicName</code> - The name of the topic to get events from</dd>
<dd><code>consumerID</code> - the ID of the consumer</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getNumOfProcessedRecords()">
<h3>getNumOfProcessedRecords</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getNumOfProcessedRecords</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the number of records processed</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setUp(java.util.Properties)">
<h3>setUp</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setUp</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Properties.html" title="class or interface in java.util" class="external-link">Properties</a>&nbsp;userPros)</span></div>
<div class="block">Initializes the consumer with the passed kafka properties.
 <P>
 The defaults are used if not found in the parameter</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>userPros</code> - The user defined kafka properties</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="startGettingEvents(org.eso.ias.kafkautils.KafkaStringsConsumer.StringsConsumer,org.eso.ias.kafkautils.KafkaStringsConsumer.StreamPosition)">
<h3>startGettingEvents</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">startGettingEvents</span><wbr><span class="parameters">(<a href="KafkaStringsConsumer.StringsConsumer.html" title="interface in org.eso.ias.kafkautils">KafkaStringsConsumer.StringsConsumer</a>&nbsp;listener,
 <a href="KafkaStringsConsumer.StreamPosition.html" title="enum class in org.eso.ias.kafkautils">KafkaStringsConsumer.StreamPosition</a>&nbsp;startReadingFrom)</span>
                        throws <span class="exceptions"><a href="KafkaUtilsException.html" title="class in org.eso.ias.kafkautils">KafkaUtilsException</a></span></div>
<div class="block">Start polling events from the kafka channel.
 <P>
 This method starts the thread that polls the kafka topic
 and returns after the consumer has been assigned to at least
 one partition.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>listener</code> - The listener of events published in the topic</dd>
<dd><code>startReadingFrom</code> - Starting position in the kafka partition</dd>
<dt>Throws:</dt>
<dd><code><a href="KafkaUtilsException.html" title="class in org.eso.ias.kafkautils">KafkaUtilsException</a></code> - in case of timeout subscribing to the kafkatopic</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setUp()">
<h3>setUp</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setUp</span>()</div>
<div class="block">Initializes the consumer with default kafka properties</div>
</section>
</li>
<li>
<section class="detail" id="tearDown()">
<h3>tearDown</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">tearDown</span>()</div>
<div class="block">Close and cleanup the consumer</div>
</section>
</li>
<li>
<section class="detail" id="onPartitionsRevoked(java.util.Collection)">
<h3>onPartitionsRevoked</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onPartitionsRevoked</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;org.apache.kafka.common.TopicPartition&gt;&nbsp;parts)</span></div>
<div class="block">Called before the rebalancing starts and after the consumer stopped consuming events.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code>onPartitionsRevoked</code>&nbsp;in interface&nbsp;<code>org.apache.kafka.clients.consumer.ConsumerRebalanceListener</code></dd>
<dt>Parameters:</dt>
<dd><code>parts</code> - The list of partitions that were assigned to the consumer and now need to be revoked (may not
              include all currently assigned partitions, i.e. there may still be some partitions left)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onPartitionsAssigned(java.util.Collection)">
<h3>onPartitionsAssigned</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onPartitionsAssigned</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;org.apache.kafka.common.TopicPartition&gt;&nbsp;parts)</span></div>
<div class="block">Called after partitions have been reassigned but before the consumer starts consuming messages</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code>onPartitionsAssigned</code>&nbsp;in interface&nbsp;<code>org.apache.kafka.clients.consumer.ConsumerRebalanceListener</code></dd>
<dt>Parameters:</dt>
<dd><code>parts</code> - The list of partitions that are now assigned to the consumer (previously owned partitions will
              NOT be included, i.e. this list will only include newly added partitions)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onPartitionsLost(java.util.Collection)">
<h3>onPartitionsLost</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onPartitionsLost</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;org.apache.kafka.common.TopicPartition&gt;&nbsp;parts)</span></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code>onPartitionsLost</code>&nbsp;in interface&nbsp;<code>org.apache.kafka.clients.consumer.ConsumerRebalanceListener</code></dd>
<dt>Parameters:</dt>
<dd><code>parts</code> - The list of partitions that were assigned to the consumer and now have been reassigned
              to other consumers. With the current protocol this will always include all of the consumer's
              previously assigned partitions, but this may change in future protocols (ie there would still
              be some partitions left)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="run()">
<h3>run</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">run</span>()</div>
<div class="block">The thread to poll data from the topic</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html#run()" title="class or interface in java.lang" class="external-link">run</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a></code></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html#run()" title="class or interface in java.lang" class="external-link"><code>Runnable.run()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="seekTo(org.eso.ias.kafkautils.KafkaStringsConsumer.StreamPosition)">
<h3>seekTo</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">seekTo</span><wbr><span class="parameters">(<a href="KafkaStringsConsumer.StreamPosition.html" title="enum class in org.eso.ias.kafkautils">KafkaStringsConsumer.StreamPosition</a>&nbsp;pos)</span></div>
<div class="block">Seek the consumer to the passed postion.
 Kafka allows to seek only if a partition is assigned
 otherwise the seek is ignored.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pos</code> - The position to seek the consumer</dd>
<dt>Returns:</dt>
<dd>true is the seek has been done with an assigned partiton;
         false otherwise</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isReady()">
<h3>isReady</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isReady</span>()</div>
<div class="block">Return true if the consumer is ready.

 Kafka API does not provide a way to know if the consumer is ready.
 This method uses <code>KafkaConsumer.assignment()</code>} to understand if the
 consumer is ready: the consumer is ready if there are partitions assigned to it.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if the consumer is ready, false otherwise</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="waitUntilConsumerReady()">
<h3>waitUntilConsumerReady</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">waitUntilConsumerReady</span>()</div>
<div class="block">Waits until the consumer is ready or a timeout elapses.

 This methods waits until the consumer is ready (delegating to <a href="#isReady()"><code>isReady()</code></a>)or a timeout elapses.
 If at the end of the timeout the consumer is not yet ready, this method only logs a warning
 as we do not want to block the process in case the consumer becomes ready after for whatever reason.
 But still the situation is probably not normal and we want to log the event.

 The timeout can be set by setting <a href="#WAIT_CONSUMER_READY_TIMEOUT_PROP_NAME"><code>WAIT_CONSUMER_READY_TIMEOUT_PROP_NAME</code></a> property
 otherwise the default (<a href="#DEFAULT_CONSUMER_READY_TIMEOUT"><code>DEFAULT_CONSUMER_READY_TIMEOUT</code></a>) is used.</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
